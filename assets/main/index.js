System.register("chunks:///_virtual/AnimalRenderingSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./ZooComponent.ts","./index.js"],(function(e){"use strict";var n,t,i,o,a,l,r,s,c;return{setters:[function(e){n=e.inheritsLoose,t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e.instantiate,r=e.SkeletalAnimation},null,function(e){s=e.ZooComponent},function(e){c=e.default}],execute:function(){var u,d,p,m,f;a._RF.push({},"33d82dgWfRP3qFa8M4vNclt","AnimalRenderingSystem",void 0);e("AnimalRenderingSystem",(u=c.Inject("scene"),d=c.Inject("localStorage"),p=function(e){function t(){for(var n,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a))||this,i(n,"scene",m,o(n)),i(n,"localStorage",f,o(n)),n.zooGroup=void 0,n.zooNodes=void 0,n}n(t,e);var a=t.prototype;return a.initialized=function(){this.zooGroup=this.scene.getChildByName("ZooGroup")},a.newAnimal=function(e,n){var t=e.getComponent(s);if(t&&t.animalPrefab){var i=l(t.animalPrefab);n.addChild(i);var o=i.getComponent(r);o.play("Armature|Idle"),o.getState("Armature|Idle").speed=3}},a.deleteAnimal=function(e){e.removeAllChildren()},a.updateAnimals=function(){var e=this.localStorage.getGardenData();if(e)for(var n=e.zoos,t=0;t<n.length;t++){var i=n[t],o=this.zooGroup.children[t];if(o){var a=o.getChildByName("AnimalGroup");i.unlocked&&0===a.children.length?this.newAnimal(o,a):!i.unlocked&&a.children.length>0&&this.deleteAnimal(a)}}},a.process=function(){this.updateAnimals()},a.dispose=function(){},t}(c.System),m=t(p.prototype,"scene",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(p.prototype,"localStorage",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p));a._RF.pop()}}}));

System.register("chunks:///_virtual/CameraProcessingSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./Constants.ts","./index.js"],(function(e){"use strict";var t,i,o,a,r,s,n,c;return{setters:[function(e){t=e.inheritsLoose,i=e.applyDecoratedDescriptor,o=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,s=e.Vec3},null,function(e){n=e.Constants},function(e){c=e.default}],execute:function(){var l,u,h,m,p,g,d;r._RF.push({},"a7b2bThI51IspotUc3RVGvT","CameraProcessingSystem",void 0);e("CameraProcessingSystem",(l=c.Inject("scene"),u=c.Inject("camera"),h=c.Inject("gameState"),m=function(e){function i(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,o(t,"scene",p,a(t)),o(t,"camera",g,a(t)),o(t,"gameState",d,a(t)),t.landGroup=void 0,t.zooGroup=void 0,t.currentZoomTarget=n.SHOW_MAP_ORTHO_HEIGHT,t.cameraPos=new s,t.tempVec=new s,t}t(i,e);var r=i.prototype;return r.initialized=function(){this.zooGroup=this.scene.getChildByName("ZooGroup"),this.landGroup=this.scene.getChildByName("LandGroup"),this.lookAt(25,0,15)},r.lookAt=function(e,t,i){this.tempVec.set(this.camera.node.forward).multiplyScalar(n.CAMERA_DISTANCE),this.cameraPos.set(e,t,i).subtract(this.tempVec),this.camera.node.setPosition(this.cameraPos)},r.process=function(){if(this.gameState.cameraZoomToDetail){if(void 0!==this.gameState.selectedLand){var e=this.landGroup.children[this.gameState.selectedLand];this.lookAt(e.position.x,e.position.y,e.position.z)}else if(void 0!==this.gameState.selectedZoo){var t=this.zooGroup.children[this.gameState.selectedZoo];this.lookAt(t.position.x,t.position.y,t.position.z)}this.currentZoomTarget=n.SHOW_DETAIL_ORTHO_HEIGHT}else this.currentZoomTarget=this.gameState.currentOrthoHeight;var i=this.camera.orthoHeight,o=i+.4*(this.currentZoomTarget-i);Math.abs(o-this.currentZoomTarget)<.01&&(o=this.currentZoomTarget),this.camera.orthoHeight=o},i}(c.System),p=i(m.prototype,"scene",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=i(m.prototype,"camera",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=i(m.prototype,"gameState",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m));r._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["cc"],(function(t){"use strict";var _;return{setters:[function(t){_=t.cclegacy}],execute:function(){_._RF.push({},"ec99aRQ9OtPeJTqi7gqtULU","Constants",void 0);var n=t("Constants",(function(){}));n.LAND_TOTAL_BLOCK=9,n.FERTILIZE_SKIP_TIME=1800,n.MAX_ORTHO_HEIGHT=50,n.SHOW_MAP_ORTHO_HEIGHT=30,n.SHOW_DETAIL_ORTHO_HEIGHT=10,n.MAP_ZOOM_RATE=.1,n.MAP_DRAG_RATIO=30,n.CAMERA_DISTANCE=350,_._RF.pop()}}}));

System.register("chunks:///_virtual/EventTarget.ts",["cc"],(function(e){"use strict";var t,c;return{setters:[function(e){t=e.cclegacy,c=e.EventTarget}],execute:function(){t._RF.push({},"526c2IS4YBHsJe+yM4iuclr","EventTarget",void 0);e("default",new c);t._RF.pop()}}}));

System.register("chunks:///_virtual/GameEvent.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var n;e("GameEvent",void 0),t._RF.push({},"802dcSUOelIpr+U4NJnD2Mf","GameEvent",void 0),function(e){e.ClearSelect="GameEvent.ClearSelect",e.Plant="GameEvent.Plant",e.Water="GameEvent.Water",e.Fertilize="GameEvent.Fertilize",e.Harvest="GameEvent.Harvest",e.BuyZoo="GameEvent.BuyZoo"}(n||(n=e("GameEvent",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/GameHUD.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./GameEvent.ts","./EventTarget.ts","./LocalStorage.ts"],(function(t){"use strict";var e,a,s,r,i,o,n,c,l,h,u,m,d,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,s=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,n=t.Camera,c=t.Vec3,l=t.Label,h=t.Component},function(t){u=t.Constants},function(t){m=t.GameEvent},function(t){d=t.default},function(t){p=t.gameStorage}],execute:function(){var g,C,f,D,b;i._RF.push({},"f1b36959pFKfZ6QG9FL2X6r","GameHUD",void 0);var y=o.ccclass,L=o.property;t("GameHUD",(g=y("GameHUD"),C=L(n),g((b=e((D=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,s(e,"camera",b,r(e)),e.userData=void 0,e.waterLabel=void 0,e.goldLabel=void 0,e.cashLabel=void 0,e.tempVec=new c,e.cameraPos=new c,e}a(e,t);var i=e.prototype;return i.onLoad=function(){this.userData={cash:0,gold:0,water:0};var t=this.node.getChildByName("Top_Left").getChildByName("Currencies");this.waterLabel=t.getChildByName("Water").getComponent(l),this.goldLabel=t.getChildByName("Gold").getComponent(l),this.cashLabel=t.getChildByName("Cash").getComponent(l),this.updateCurrencies(p.getUserData())},i.update=function(){this.updateCurrencies(p.getUserData())},i.updateCurrencies=function(t){t.cash!==this.userData.cash&&(this.userData.cash=t.cash,this.cashLabel.string=this.userData.cash.toString()),t.gold!==this.userData.gold&&(this.userData.gold=t.gold,this.goldLabel.string=this.userData.cash.toString()),t.water!==this.userData.water&&(this.userData.water=t.water,this.waterLabel.string=this.userData.water.toString())},i.onBtnZooClick=function(){d.emit(m.ClearSelect),this.tempVec.set(this.camera.node.forward).multiplyScalar(u.CAMERA_DISTANCE),this.cameraPos.set(120,0,90).subtract(this.tempVec),this.camera.node.setPosition(this.cameraPos)},i.onBtnFarmClick=function(){d.emit(m.ClearSelect),this.tempVec.set(this.camera.node.forward).multiplyScalar(u.CAMERA_DISTANCE),this.cameraPos.set(25,0,15).subtract(this.tempVec),this.camera.node.setPosition(this.cameraPos)},e}(h)).prototype,"camera",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=D))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameInputSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./Constants.ts","./PopupSelectSeed.ts","./PopupTool.ts","./GameEvent.ts","./EventTarget.ts","./index.js"],(function(e){"use strict";var t,o,a,i,n,s,c,l,r,h,p,d,u,m,g,v,S,f;return{setters:[function(e){t=e.inheritsLoose,o=e.createForOfIteratorHelperLoose,a=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,c=e.input,l=e.Input,r=e.Vec2,h=e.MeshRenderer,p=e.geometry,d=e.Vec3},null,function(e){u=e.Constants},function(e){m=e.PopupSelectSeed},function(e){g=e.PopupTool},function(e){v=e.GameEvent},function(e){S=e.default},function(e){f=e.default}],execute:function(){var T,y,C,_,G,I,L,O,B;s._RF.push({},"db0b5PpFcRGC4l8ejhxnsD8","GameInputSystem",void 0);e("GameInputSystem",(T=f.Inject("scene"),y=f.Inject("camera"),C=f.Inject("localStorage"),_=f.Inject("gameState"),G=function(e){function a(){for(var t,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"scene",I,n(t)),i(t,"camera",L,n(t)),i(t,"localStorage",O,n(t)),i(t,"gameState",B,n(t)),t.landGroup=void 0,t.zooGroup=void 0,t.popupSelectSeed=void 0,t.popupTool=void 0,t.popupBuyZoo=void 0,t.tempVec=new d,t.ray=new p.Ray,t}t(a,e);var s=a.prototype;return s.initialized=function(){this.landGroup=this.scene.getChildByName("LandGroup"),this.zooGroup=this.scene.getChildByName("ZooGroup");var e=this.scene.getChildByName("UI_Canvas");this.popupSelectSeed=e.getChildByName("PopupSelectSeed"),this.popupTool=e.getChildByName("PopupTool"),this.popupBuyZoo=e.getChildByName("PopupBuyZoo"),c.on(l.EventType.TOUCH_MOVE,this.onTouchMove,this),c.on(l.EventType.TOUCH_START,this.onTouchStart,this),S.on(v.ClearSelect,this.onClearSelect,this)},s.onTouchStart=function(e){this.checkTouchLand(e.touch.getLocation()),this.checkTouchZoo(e.touch.getLocation()),this.gameState.cameraZoomToDetail=void 0!==this.gameState.selectedLand||void 0!==this.gameState.selectedZoo},s.onTouchMove=function(e){if(!this.gameState.cameraZoomToDetail){var t=e.getTouches();if(1===t.length){var o=-e.getDeltaY(),a=this.camera.node.rotation.getEulerAngles(this.tempVec),i=e.getDeltaX()*Math.sin(a.y*Math.PI/180),n=-e.getDeltaX()*Math.cos(a.y*Math.PI/180);this.tempVec.set(n/u.MAP_DRAG_RATIO,o/u.MAP_DRAG_RATIO,i/u.MAP_DRAG_RATIO),this.camera.node.setPosition(this.camera.node.position.add(this.tempVec))}else{var s=r.distance(t[0].getPreviousLocation(),t[1].getPreviousLocation()),c=r.distance(t[0].getLocation(),t[1].getLocation())-s,l=this.gameState.currentOrthoHeight-c*u.MAP_ZOOM_RATE;l>u.MAX_ORTHO_HEIGHT&&(l=u.MAX_ORTHO_HEIGHT),l<u.SHOW_DETAIL_ORTHO_HEIGHT&&(l=u.SHOW_DETAIL_ORTHO_HEIGHT),this.gameState.currentOrthoHeight=l}}},s.checkTouchZoo=function(e){if(void 0===this.gameState.selectedLand){var t=this.camera.screenPointToRay(e.x,e.y,this.ray),o=this.localStorage.getGardenData();if(o)for(var a=o.zoos,i=0;i<this.zooGroup.children.length;i++){var n=a[i];if(n){var s=this.zooGroup.children[i].getChildByName("Plane");if(s){var c=s.getComponent(h);if(p.intersect.rayModel(t,c.model)>0){this.gameState.selectedZoo=i,this.gameState.selectedLand=void 0,this.gameState.selectedBlock=void 0,this.popupSelectSeed.active=!1,this.popupTool.active=!1,n.unlocked||(this.popupBuyZoo.active=!0);break}this.gameState.selectedZoo=void 0,this.popupBuyZoo.active=!1}}}}},s.checkTouchLand=function(e){var t=this.camera.screenPointToRay(e.x,e.y,this.ray),o=this.localStorage.getGardenData();if(o){for(var a=o.lands,i=!1,n=0;n<a.length;n++){var s="Land_"+n;if(n>=this.landGroup.children.length)throw Error(s+" not existed on map");var c=a[n];if(c.unlocked){var l=this.landGroup.children[n].getChildByName("Plane");if(l){var r=l.getComponentInChildren(h);if(0!==p.intersect.rayModel(t,r.model)){var d=this.landGroup.getChildByName(s);if(!d)throw Error(s+" not existed on map");for(var u=d.getChildByName("blocks"),m=0;m<u.children.length;m++){var g=u.children[m].getComponentInChildren(h);if(p.intersect.rayModel(t,g.model)>0){void 0!==this.gameState.selectedLand&&this.gameState.selectedLand!==n||(this.onTouchBlock(c,n,m),i=!0);break}}}}}}i||(this.gameState.selectedLand=void 0,this.gameState.selectedBlock=void 0,this.gameState.selectedZoo=void 0,this.popupSelectSeed.active=!1,this.popupTool.active=!1)}},s.onTouchBlock=function(e,t,a){var i;if(e.plants)for(var n,s=o(e.plants);!(n=s()).done;){var c=n.value;if(c.blockIndex===a){i=c;break}}if(this.popupSelectSeed.active=!i,this.popupTool.active=!!i,i){var l=this.popupTool.getComponent(g);l&&l.showTool(i)}else{var r=this.popupSelectSeed.getComponent(m);r&&r.show()}this.gameState.selectedLand=t,this.gameState.selectedBlock=a,this.gameState.selectedZoo=void 0},s.onClearSelect=function(){this.gameState.selectedLand=void 0,this.gameState.selectedBlock=void 0,this.gameState.selectedZoo=void 0,this.gameState.cameraZoomToDetail=void 0!==this.gameState.selectedLand||void 0!==this.gameState.selectedZoo,this.popupBuyZoo.active=!1,this.popupSelectSeed.active=!1,this.popupTool.active=!1},s.process=function(){},s.dispose=function(){c.off(l.EventType.TOUCH_START,this.onTouchStart,this),c.off(l.EventType.TOUCH_MOVE,this.onTouchMove,this),S.off(v.ClearSelect,this.onClearSelect,this)},a}(f.System),I=a(G.prototype,"scene",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=a(G.prototype,"camera",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=a(G.prototype,"localStorage",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=a(G.prototype,"gameState",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameState.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"d1b527tmnZELILY/NQ5aJ0i","GameState",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/Garden.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d4e3fm3xdhJBZ7C0Rg1x+oE","Garden",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/GardenScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./Constants.ts","./AnimalRenderingSystem.ts","./CameraProcessingSystem.ts","./GameInputSystem.ts","./LandRenderingSystem.ts","./PlantProcessingSystem.ts","./PlantRenderingSystem.ts","./ZooProcessingSystem.ts","./LocalStorage.ts","./index.js"],(function(e){"use strict";var t,n,r,s,i,o,a,l,c,d,m,u,S,y,g,f,p,h,w,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,a=e.Prefab,l=e.director,c=e.CameraComponent,d=e.Component},null,function(e){m=e.Constants},function(e){u=e.AnimalRenderingSystem},function(e){S=e.CameraProcessingSystem},function(e){y=e.GameInputSystem},function(e){g=e.LandRenderSystem},function(e){f=e.PlantProcessingSytem},function(e){p=e.PlantRenderingSytem},function(e){h=e.ZooProcessingSystem},function(e){w=e.gameStorage},function(e){P=e.default}],execute:function(){var v,C,b,R,G;i._RF.push({},"734feVQSzdG76tFES30ltsr","GardenScene",void 0);var _=o.ccclass,D=o.property;e("GardenScene",(v=_("GardenScene"),C=D(a),v((G=t((R=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"plantPrefab",G,s(t)),t.world=void 0,t}n(t,e);var i=t.prototype;return i.onLoad=function(){},i.start=function(){var e=l.getScene(),t=e.getChildByName("Camera").getComponent(c),n={cameraZoomToDetail:!1,currentOrthoHeight:m.SHOW_MAP_ORTHO_HEIGHT};this.world=new P.World,w.initData(),this.world.register("scene",e),this.world.register("camera",t),this.world.register("localStorage",w),this.world.register("gameState",n),this.world.register("plantPrefab",this.plantPrefab),this.world.addSystem(new g,!1),this.world.addSystem(new p,!1),this.world.addSystem(new u,!1),this.world.addSystem(new y,!0),this.world.addSystem(new f,!0),this.world.addSystem(new h,!0),this.world.addSystem(new S,!0)},i.update=function(e){this.world.setDelta(e),this.world.processActiveSystem(),this.world.processPassiveSystem()},t}(d)).prototype,"plantPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=R))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/ItemConfig.ts",["cc","./Storage.ts"],(function(t){"use strict";var e,a;return{setters:[function(t){e=t.cclegacy},function(t){a=t.StorageTab}],execute:function(){e._RF.push({},"ebfa1PrIVVMZ5evCrsiVzBC","ItemConfig",void 0);t("itemConfigs",{plant_00:{id:"plant_00",storageTab:a.Seed},plant_01:{id:"plant_01",storageTab:a.Seed},plant_02:{id:"plant_02",storageTab:a.Seedling},plant_03:{id:"plant_03",storageTab:a.Seedling},plant_04:{id:"plant_04",storageTab:a.Seedling}});e._RF.pop()}}}));

System.register("chunks:///_virtual/Land.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"56fdez77edAO51J0uO+1BSC","Land",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/LandComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./Plant.ts"],(function(t){"use strict";var e,o,n,s,i,r,a,c;return{setters:[function(t){e=t.inheritsLoose,o=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy,s=t._decorator,i=t.Vec3,r=t.Component},function(t){a=t.Constants},function(t){c=t.PlantSize}],execute:function(){var d;n._RF.push({},"b9fabrseGpEIa1XQdW+4wLU","LandComponent",void 0);var l=s.ccclass;s.property,t("LandComponent",l("LandComponent")(d=function(t){function n(){for(var e,o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).statusNode=void 0,e.renderRoot2D=void 0,e.blocksNode=void 0,e.selectingBlock=void 0,e.pos=new i,e.temVec=new i,e}e(n,t);var s=n.prototype;return s.onLoad=function(){this.renderRoot2D=this.node.getChildByName("RenderRoot2D"),this.statusNode=this.renderRoot2D.getChildByName("StatusNode"),this.blocksNode=this.node.getChildByName("blocks"),this.selectingBlock=this.node.getChildByName("SelectingBlock")},s.updateLandStatus=function(t,e){if(t.orthoHeight===a.SHOW_MAP_ORTHO_HEIGHT&&e.unlocked&&e.plants){for(var n,s=!1,i=o(e.plants);!(n=i()).done;){var r=n.value;if(0!==r.statuses.length||r.size===c.Mature){s=!0;break}}this.renderRoot2D.active=s,s&&(t.camera.update(),t.convertToUINode(this.renderRoot2D.worldPosition,this.statusNode.parent,this.pos),this.statusNode.setPosition(this.pos.add3f(0,40,0)))}else this.renderRoot2D.active=!1},s.selectBlock=function(t,e){if(void 0===e&&(e=0),this.selectingBlock.active=t,t){var o=this.blocksNode.children[e];this.selectingBlock.active=!0,this.temVec.set(o.position),this.selectingBlock.setPosition(this.temVec)}},n}(r))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/LandRenderingSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./LandComponent.ts","./index.js"],(function(e){"use strict";var t,n,a,i,r,l,o,c;return{setters:[function(e){t=e.inheritsLoose,n=e.applyDecoratedDescriptor,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e.Vec3},null,function(e){o=e.LandComponent},function(e){c=e.default}],execute:function(){var s,u,d,p,g,m,f,h,S;r._RF.push({},"d6fb7UTstNIIKIT/VaRdnDb","LandRenderingSystem",void 0);e("LandRenderSystem",(s=c.Inject("scene"),u=c.Inject("camera"),d=c.Inject("gameState"),p=c.Inject("localStorage"),g=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"scene",m,i(t)),a(t,"camera",f,i(t)),a(t,"gameState",h,i(t)),a(t,"localStorage",S,i(t)),t.landGroup=void 0,t.temp=new l,t}t(n,e);var r=n.prototype;return r.initialized=function(){this.landGroup=this.scene.getChildByName("LandGroup")},r.updateLands=function(){var e=this.localStorage.getGardenData();if(e)for(var t=e.lands,n=0;n<this.landGroup.children.length;n++)if(!(n>=t.length)){var a=this.landGroup.children[n].getComponent(o);a.updateLandStatus(this.camera,t[n]),void 0!==this.gameState.selectedLand&&this.gameState.selectedLand===n&&void 0!==this.gameState.selectedBlock?a.selectBlock(!0,this.gameState.selectedBlock):a.selectBlock(!1)}},r.process=function(){this.updateLands()},r.dispose=function(){},n}(c.System),m=n(g.prototype,"scene",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=n(g.prototype,"camera",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=n(g.prototype,"gameState",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=n(g.prototype,"localStorage",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g));r._RF.pop()}}}));

System.register("chunks:///_virtual/LocalStorage.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3aaa9U3fW9K8bw2EmSPBgfS","LocalStorage",void 0);var a;!function(t){t.VERISON="StorageKey.VERSION",t.GARDEN="StorageKey.GARDEN",t.STORAGE="StorageKey.STORAGE",t.USERDATA="StorageKey.USERDATA"}(a||(a={}));var r=t("LocalStorage",function(){function t(){var t=this;this.storage={},this.gardenData=void 0,this.getGardenData=function(){return t.gardenData||(t.gardenData=JSON.parse(t.getItem(a.GARDEN))),t.gardenData},this.storageData=void 0,this.getStorageData=function(){return t.storageData||(t.storageData=JSON.parse(t.getItem(a.STORAGE))),t.storageData},this.userData=void 0,this.getUserData=function(){return t.userData||(t.userData=JSON.parse(t.getItem(a.USERDATA))),t.userData},this.updateGardenData=function(){var e=JSON.stringify(t.gardenData);t.setItem(a.GARDEN,e)},this.updateStorageData=function(){var e=JSON.stringify(t.storageData);t.setItem(a.STORAGE,e)},this.updateUserData=function(){var e=JSON.stringify(t.userData);t.setItem(a.USERDATA,e)},this.clear=function(){if(window.localStorage)return window.localStorage.clear();t.storage={}},this.getItem=function(e){return window.localStorage?window.localStorage.getItem(e):t.storage[e]},this.setItem=function(e,a){if(window.localStorage)return window.localStorage.setItem(e,a);t.storage[e]=a},this.removeItem=function(e){if(window.localStorage)return window.localStorage.removeItem(e);t.storage[e]=null,delete t.storage[e]}}return t.prototype.initData=function(){var t=this.getItem(a.VERISON);if(t&&0===parseInt(t)||(this.clear(),this.setItem(a.VERISON,(0).toString())),!this.getItem(a.GARDEN)){this.setItem(a.GARDEN,'{"lands":[{"unlocked":true},{"unlocked":true},{"unlocked":true},{"unlocked":true},{"unlocked":true},{"unlocked":true}],"zoos":[{"unlocked":true,"level":0},{"unlocked":false}, {"unlocked":false}, {"unlocked":false}]}')}if(!this.getItem(a.STORAGE)){this.setItem(a.STORAGE,'{"items":[{"id":"plant_00","quantity":1000},{"id":"plant_01","quantity":1000},{"id":"plant_02","quantity":1000},{"id":"plant_03","quantity":1000},{"id":"plant_04","quantity":1000}]}')}if(!this.getItem(a.USERDATA)){this.setItem(a.USERDATA,'{"gold":9999999,"cash":9999999,"water":99999}')}},t}());t("gameStorage",new r);e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Constants.ts","./ItemConfig.ts","./PlantConfig.ts","./LandComponent.ts","./PlantComponent.ts","./ZooComponent.ts","./GardenScene.ts","./GameHUD.ts","./PopupBuyZoo.ts","./PopupSelectSeed.ts","./PopupStorage.ts","./PopupTool.ts","./AnimalRenderingSystem.ts","./CameraProcessingSystem.ts","./GameInputSystem.ts","./LandRenderingSystem.ts","./PlantProcessingSystem.ts","./PlantRenderingSystem.ts","./ZooProcessingSystem.ts","./GameEvent.ts","./GameState.ts","./Garden.ts","./Land.ts","./Plant.ts","./Storage.ts","./UserData.ts","./Zoo.ts","./EventTarget.ts","./LocalStorage.ts","./StringUtils.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Plant.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){var a,e;t({PlantSize:void 0,PlantStatusType:void 0}),n._RF.push({},"0ab8boy5ydCzqSwxJSzb4sS","Plant",void 0),function(t){t[t.Sprout=0]="Sprout",t[t.Sapling=1]="Sapling",t[t.Mature=2]="Mature"}(a||(a=t("PlantSize",{}))),function(t){t[t.Worm=0]="Worm",t[t.Dry=1]="Dry"}(e||(e=t("PlantStatusType",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/PlantComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./StringUtils.ts"],(function(e){"use strict";var t,r,o,n,i,s,a,l,d,u,p,h,c,g,P,f,v,C,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty,o=e.inheritsLoose,n=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,a=e._decorator,l=e.CCString,d=e.Prefab,u=e.SpriteAtlas,p=e.Vec3,h=e.Color,c=e.Sprite,g=e.ProgressBar,P=e.Label,f=e.instantiate,v=e.Component},function(e){C=e.Constants},function(e){b=e.toHourMinSec}],execute:function(){var m,y,N,B,S,D,R,w,I,_,H,z,A,F;s._RF.push({},"7865329OKBPiq+nR+pIYnyH","PlantComponent",void 0);var L=a.ccclass,k=a.property,O=e("default",(w=L("PlantPrefabPair"),I=k(l),_=k([d]),w((A=t((z=function(){r(this,"key",A,this),r(this,"values",F,this)}).prototype,"key",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(z.prototype,"values",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=z))||H));e("PlantComponent",(m=L("PlantComponent"),y=k([O]),N=k(u),m((D=t((S=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,r(t,"renderPlantPrefabs",D,n(t)),r(t,"uiAtlas",R,n(t)),t.renderRoot2D=void 0,t.renderPlantNode=void 0,t.label=void 0,t.progressBar=void 0,t.statusNode=void 0,t.statusSprite=void 0,t.pos=new p,t.greenColor=new h(0,255,0,255),t.orangeColor=new h(255,128,0,255),t.redColor=new h(255,0,0,255),t}o(t,e);var s=t.prototype;return s.onLoad=function(){this.renderRoot2D=this.node.getChildByName("RenderRoot2D"),this.statusNode=this.renderRoot2D.getChildByName("StatusNode");var e=this.statusNode.getChildByName("ico_event");this.statusSprite=e.getComponentInChildren(c),this.progressBar=this.renderRoot2D.getComponentInChildren(g),this.label=this.progressBar.getComponentInChildren(P)},s.getPlantPrefabByNameAndSize=function(e,t){for(var r,o=i(this.renderPlantPrefabs);!(r=o()).done;){var n=r.value;if(n.key===e&&t<n.values.length)return n.values[t]}return null},s.setPlant=function(e,t){this.renderPlantNode&&(this.renderPlantNode.removeFromParent(),this.renderPlantNode=void 0);var r=this.getPlantPrefabByNameAndSize(e,t);r&&(this.renderPlantNode=f(r),this.node.addChild(this.renderPlantNode))},s.setPlantStatuses=function(e){this.statusNode.active=0!==e.length,0!==e.length&&(this.statusSprite.spriteFrame=this.uiAtlas.getSpriteFrame("plant_task_"+e[0].type))},s.updateUIPosition=function(e){var t=e.orthoHeight===C.SHOW_DETAIL_ORTHO_HEIGHT;this.renderRoot2D.active=t,t&&(e.camera.update(),e.convertToUINode(this.renderRoot2D.worldPosition,this.progressBar.node.parent,this.pos),this.statusNode.setPosition(this.pos),this.statusNode.position.add3f(-50,47,0),this.progressBar.node.setPosition(this.pos),this.progressBar.node.position.add3f(0,-20,0))},s.updatePlantData=function(e,t){this.renderRoot2D.active&&(this.label.string=e>0?b(e):"",this.progressBar.progress=t,this.progressBar.barSprite.color=t>.66?this.greenColor:t>.33?this.orangeColor:this.redColor)},t}(v)).prototype,"renderPlantPrefabs",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(S.prototype,"uiAtlas",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=S))||B));s._RF.pop()}}}));

System.register("chunks:///_virtual/PlantConfig.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"f8f8d8kLLRPy6u1H0StefIy","PlantConfig",void 0);n("plantConfigs",{plant_00:{id:"plant_00",hp:1,grownTime:3600,premium:!1},plant_01:{id:"plant_01",hp:2,grownTime:7200,premium:!1},plant_02:{id:"plant_02",hp:3,grownTime:9e3,premium:!1},plant_03:{id:"plant_03",hp:4,grownTime:10800,premium:!1},plant_04:{id:"plant_04",hp:5,grownTime:12600,premium:!1}});t._RF.pop()}}}));

System.register("chunks:///_virtual/PlantProcessingSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./PlantConfig.ts","./Constants.ts","./GameEvent.ts","./Plant.ts","./EventTarget.ts","./LocalStorage.ts","./index.js"],(function(t){"use strict";var e,a,n,i,r,l,s,o,c,g,u,d,f,h;return{setters:[function(t){e=t.inheritsLoose,a=t.createForOfIteratorHelperLoose,n=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){l=t.cclegacy},null,function(t){s=t.plantConfigs},function(t){o=t.Constants},function(t){c=t.GameEvent},function(t){g=t.PlantSize,u=t.PlantStatusType},function(t){d=t.default},function(t){f=t.gameStorage},function(t){h=t.default}],execute:function(){var p,S,v,m,y,P,b,w,D;l._RF.push({},"6ac05V8cKtOybnaLTrXx4rH","PlantProcessingSystem",void 0);t("PlantProcessingSytem",(p=h.Inject("scene"),S=h.Inject("camera"),v=h.Inject("localStorage"),m=h.Inject("gameState"),y=function(t){function n(){for(var e,a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,i(e,"scene",P,r(e)),i(e,"camera",b,r(e)),i(e,"localStorage",w,r(e)),i(e,"gameState",D,r(e)),e}e(n,t);var l=n.prototype;return l.initialized=function(){d.on(c.Plant,this.onPlantSeed,this),d.on(c.Water,this.onWatering,this),d.on(c.Fertilize,this.onFertilizing,this),d.on(c.Harvest,this.onHarvesting,this)},l.onPlantSeed=function(t){if(t){var e=this.localStorage.getGardenData();if(void 0!==this.gameState.selectedLand&&void 0!==this.gameState.selectedBlock){if(this.gameState.selectedLand>=e.lands.length)throw Error("selecting land index greater than total lands");var n=e.lands[this.gameState.selectedLand];if(void 0===n.plants&&(n.plants=new Array),this.gameState.selectedBlock>=o.LAND_TOTAL_BLOCK)throw Error("selecting block index greater than total blocks");var i=s[t];if(!i)throw Error("No config data for plant with id = "+t);var r={id:i.id,blockIndex:this.gameState.selectedBlock,hp:i.hp,size:g.Sprout,plantTime:Date.now(),statuses:[{type:u.Dry,time:0}]};n.plants.push(r),this.localStorage.updateGardenData();for(var l,c=this.localStorage.getStorageData().items.filter((function(e){return e.id===t})),d=a(c);!(l=d()).done;){var f=l.value;f.quantity=f.quantity-1}this.localStorage.updateStorageData()}}},l.getSelectingPlant=function(){if(void 0!==this.gameState.selectedLand&&void 0!==this.gameState.selectedBlock){var t=this.localStorage.getGardenData();if(this.gameState.selectedLand>=t.lands.length)throw Error("selecting land index greater than total lands");for(var e,n=t.lands[this.gameState.selectedLand],i=a(n.plants);!(e=i()).done;){var r=e.value;if(r.blockIndex===this.gameState.selectedBlock)return r}return null}},l.onWatering=function(){var t=f.getUserData();if(0!==t.water){t.water-=1,f.updateUserData();var e=this.getSelectingPlant();if(null===e)throw Error("selecting plant === null");for(var n,i=a(e.statuses);!(n=i()).done;){var r=n.value;if(r.type===u.Dry){var l=e.statuses.indexOf(r);l>=0&&e.statuses.splice(l,1);break}}this.localStorage.updateGardenData()}},l.onFertilizing=function(){var t=this.getSelectingPlant();if(null===t)throw Error("selecting plant === null");if(t.blockIndex===this.gameState.selectedBlock){var e=t.skipTime?t.skipTime:0;t.skipTime=e+o.FERTILIZE_SKIP_TIME}this.localStorage.updateGardenData()},l.onHarvesting=function(){var t=this.getSelectingPlant();if(null===t)throw Error("selecting plant === null");if(t.size===g.Mature){var e=this.localStorage.getGardenData().lands[this.gameState.selectedLand],a=e.plants.indexOf(t);a>=0&&e.plants.splice(a,1),this.localStorage.updateGardenData()}},l.process=function(){for(var t,e=this.localStorage.getGardenData(),n=Date.now(),i=a(e.lands);!(t=i()).done;){var r=t.value;if(r.plants)for(var l,o=a(r.plants);!(l=o()).done;){var c=l.value,u=(n-c.plantTime)/1e3,d=s[c.id],f=c.skipTime?c.skipTime:0,h=d.grownTime-u-f;if(h>0){var p=1-h/d.grownTime;c.size=p<.5?g.Sprout:g.Sapling}else c.size=g.Mature,c.statuses.length>0&&(c.statuses.length=0)}}},l.dispose=function(){d.off(c.Plant,this.onPlantSeed,this),d.off(c.Water,this.onWatering,this),d.off(c.Fertilize,this.onFertilizing,this),d.off(c.Harvest,this.onHarvesting,this)},n}(h.System),P=n(y.prototype,"scene",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=n(y.prototype,"camera",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=n(y.prototype,"localStorage",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(y.prototype,"gameState",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y));l._RF.pop()}}}));

System.register("chunks:///_virtual/PlantRenderingSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./PlantConfig.ts","./PlantComponent.ts","./index.js"],(function(t){"use strict";var e,n,a,i,l,r,s,o,p,u;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,a=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){r=t.cclegacy,s=t.instantiate},null,function(t){o=t.plantConfigs},function(t){p=t.PlantComponent},function(t){u=t.default}],execute:function(){var d,c,h,g,f,P,v,m,b;r._RF.push({},"7bfa2VhIgNBQLkmDS2HXlGA","PlantRenderingSystem",void 0);t("PlantRenderingSytem",(d=u.Inject("scene"),c=u.Inject("camera"),h=u.Inject("localStorage"),g=u.Inject("plantPrefab"),f=function(t){function a(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"scene",P,l(e)),i(e,"camera",v,l(e)),i(e,"localStorage",m,l(e)),i(e,"plantPrefab",b,l(e)),e.landGroup=void 0,e.plantGroup=void 0,e.labelPlantGroup=void 0,e.plantInLandMapping=void 0,e.plantSizeMapping=void 0,e.plantStatusMapping=void 0,e.currentPlant=void 0,e}e(a,t);var r=a.prototype;return r.initialized=function(){this.plantInLandMapping=new Map,this.plantSizeMapping=new Map,this.plantStatusMapping=new Map,this.landGroup=this.scene.getChildByName("LandGroup"),this.plantGroup=this.scene.getChildByName("PlantGroup");var t=this.scene.getChildByName("UI_Canvas");this.labelPlantGroup=t.getChildByName("LabelPlantGroup")},r.newPlant=function(t,e){var a=this.landGroup.getChildByName("Land_"+e);if(!a)throw Error("Land_"+e+" not existed on map");var i=a.getChildByName("blocks");if(t.blockIndex>=i.children.length)throw Error("Plant "+t.id+" has block index = "+t.blockIndex+" is greater than blocks's size");var l=i.children[t.blockIndex],r=s(this.plantPrefab);r.setPosition(l.getWorldPosition()),this.plantGroup.addChild(r);var o=r.getComponent(p);o.setPlant(t.id,t.size),o.setPlantStatuses(t.statuses),this.plantInLandMapping.get(e).set(t.blockIndex,r),this.plantSizeMapping.set(r.uuid,t.size);for(var u,d=[],c=n(t.statuses);!(u=c()).done;){var h=u.value;d.push(h.type)}return this.plantStatusMapping.set(r.uuid,d),r},r.deletePlantNode=function(t,e){var n=this.plantInLandMapping.get(t),a=n.get(e);this.plantSizeMapping.delete(a.uuid),this.plantStatusMapping.delete(a.uuid),a.removeFromParent(),n.delete(e)},r.updatePlants=function(){var t=this.localStorage.getGardenData();if(t)for(var e=t.lands,a=0;a<e.length;a++){if(a>=this.landGroup.children.length)throw Error("Land with idx = "+a+" not existed on map");var i=e[a];if(i.unlocked&&i.plants){this.plantInLandMapping.has(a)||this.plantInLandMapping.set(a,new Map);for(var l,r=this.plantInLandMapping.get(a),s=n(i.plants);!(l=s()).done;){var u=l.value;if(r.has(u.blockIndex)){if(this.currentPlant=r.get(u.blockIndex),this.plantSizeMapping.get(this.currentPlant.uuid)!==u.size)this.currentPlant.getComponent(p).setPlant(u.id,u.size),this.plantSizeMapping.set(this.currentPlant.uuid,u.size);if(this.plantStatusMapping.get(this.currentPlant.uuid).length!==u.statuses.length){this.currentPlant.getComponent(p).setPlantStatuses(u.statuses);for(var d,c=[],h=n(u.statuses);!(d=h()).done;){var g=d.value;c.push(g.type)}this.plantStatusMapping.set(this.currentPlant.uuid,c)}}else this.currentPlant=this.newPlant(u,a);var f=this.currentPlant.getComponent(p),P=o[u.id],v=(Date.now()-u.plantTime)/1e3,m=u.skipTime?u.skipTime:0,b=P.grownTime-v-m;f.updatePlantData(b,u.hp/P.hp),f.updateUIPosition(this.camera)}if(r.size!==i.plants.length)for(var M,S=n(r);!(M=S()).done;){for(var y,I=M.value[0],z=!1,w=n(i.plants);!(y=w()).done;){y.value.blockIndex===I&&(z=!0)}z||this.deletePlantNode(a,I)}}}},r.process=function(){this.updatePlants()},r.dispose=function(){},a}(u.System),P=a(f.prototype,"scene",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=a(f.prototype,"camera",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=a(f.prototype,"localStorage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=a(f.prototype,"plantPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopupBuyZoo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./EventTarget.ts"],(function(t){"use strict";var o,e,n,u,r,c;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,u=t.Component},function(t){r=t.GameEvent},function(t){c=t.default}],execute:function(){var i;e._RF.push({},"b9c5214VhNJQ5Ow6JKl8ENE","PopupBuyZoo",void 0);var s=n.ccclass;n.property,t("PopupBuyZoo",s("PopupBuyZoo")(i=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.start=function(){},n.buyZoo=function(){c.emit(r.BuyZoo),this.node.active=!1},e}(u))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/PopupSelectSeed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlantConfig.ts","./GameEvent.ts","./EventTarget.ts","./LocalStorage.ts"],(function(t){"use strict";var e,n,o,i,a,r,l,s,u,c,d,p,h,f,v,g,m,S,y,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createForOfIteratorHelperLoose},function(t){r=t.cclegacy,l=t._decorator,s=t.SpriteAtlas,u=t.Font,c=t.Node,d=t.Sprite,p=t.Button,h=t.EventHandler,f=t.UITransform,v=t.Label,g=t.Component},function(t){m=t.plantConfigs},function(t){S=t.GameEvent},function(t){y=t.default},function(t){P=t.gameStorage}],execute:function(){var b,C,w,z,L,N,A;r._RF.push({},"88b43Dzh+dBnLrzmp5945Wu","PopupSelectSeed",void 0);var B=l.ccclass,E=l.property;t("PopupSelectSeed",(b=B("PopupSelectSeed"),C=E(s),w=E(u),b((N=e((L=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"uiAtlas",N,i(e)),o(e,"font",A,i(e)),e.buttonPlantsNode=void 0,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.buttonPlantsNode=this.node.getChildByName("ButtonPlants"),console.log(this.node.getChildByName("ButtonClose")._uiProps)},r.show=function(){this.buttonPlantsNode.removeAllChildren();for(var t,e=P.getStorageData(),n=[],o=a(e.items);!(t=o()).done;){var i=t.value;m[i.id]&&n.push(i)}for(var r=130*n.length/2-65,l=0;l<n.length;l++){var s=new c;s.position.set(0-r+130*l,0,0),s.scale.set(.5,.5,1),s.layer=this.buttonPlantsNode.layer,this.buttonPlantsNode.addChild(s),s.addComponent(d).spriteFrame=this.uiAtlas.getSpriteFrame(n[l].id);var u=s.addComponent(p);u.interactable=!0,u.transition=p.Transition.SCALE,u.zoomScale=1.1,u.duration=.1;var g=new h;g.target=this.node,g.handler="plant",g.component="PopupSelectSeed",g.customEventData=n[l].id,u.clickEvents.push(g);var S=s.getComponent(f),y=new c;y.layer=s.layer,y.position.set(S.width/2,.5*-S.height),s.addChild(y);var b=y.addComponent(v);b.font=this.font,b.fontSize=40,b.string="x"+n[l].quantity}},r.plant=function(t,e){y.emit(S.Plant,e),this.hide()},r.hide=function(){this.node.active=!1},e}(g)).prototype,"uiAtlas",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(L.prototype,"font",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=L))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopupStorage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemConfig.ts","./Storage.ts","./LocalStorage.ts"],(function(t){"use strict";var e,i,n,r,a,o,s,l,u,c,h,p,d,b,g,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,s=t._decorator,l=t.SpriteAtlas,u=t.Node,c=t.Font,h=t.Sprite,p=t.UITransform,d=t.Label,b=t.Component},function(t){g=t.itemConfigs},function(t){f=t.StorageTab},function(t){m=t.gameStorage}],execute:function(){var v,T,y,C,S,F,I,w,A;o._RF.push({},"dbb14WtoL9BmLPG77ufF+Zl","PopupStorage",void 0);var x=s.ccclass,P=s.property;t("PopupStorage",(v=x("PopupStorage"),T=P(l),y=P([u]),C=P(c),v((I=e((F=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"uiAtlas",I,r(e)),n(e,"buttonTabs",w,r(e)),n(e,"font",A,r(e)),e.container=void 0,e.currentTabIndex=f.None,e}i(e,t);var o=e.prototype;return o.hide=function(){this.node.active=!1},o.show=function(){this.activeTab(0),this.node.active=!0},o.onChangeTab=function(t,e){var i=parseInt(e);i!==this.currentTabIndex&&this.activeTab(i)},o.activeTab=function(t){if(this.container||(this.container=this.node.getChildByName("Container")),!(t<0||t>=this.buttonTabs.length)){if(this.currentTabIndex>f.None){var e=this.buttonTabs[this.currentTabIndex];if(e)e.getComponent(h).spriteFrame=this.uiAtlas.getSpriteFrame("tab_normal")}var i=this.buttonTabs[t];i.setSiblingIndex(this.buttonTabs.length-1),i.getComponent(h).spriteFrame=this.uiAtlas.getSpriteFrame("tab_selected"),this.currentTabIndex=t,this.intContent()}},o.intContent=function(){this.container.removeAllChildren();for(var t,e=m.getStorageData(),i=0,n=0,r=a(e.items);!(t=r()).done;){var o=t.value,s=g[o.id];if(s.storageTab==this.currentTabIndex){var l=new u;l.layer=this.container.layer,this.container.addChild(l),l.addComponent(h).spriteFrame=this.uiAtlas.getSpriteFrame("storage_item_bg");var c=l.getComponent(p);c.setAnchorPoint(0,1),l.setPosition(170*i,170*-n,0);var b=new u;b.layer=l.layer,l.addChild(b),b.addComponent(h).spriteFrame=this.uiAtlas.getSpriteFrame("ico_"+s.id);var f=b.getComponent(p),v=.6*c.height/f.height;b.scale.set(v,v,1),b.position.set(c.width/2,.4*-c.height);var T=new u;T.layer=l.layer,T.position.set(c.width/2,.7*-c.height),l.addChild(T);var y=T.addComponent(d);y.font=this.font,y.fontSize=40,y.string="x"+o.quantity,7===++i&&n++}}},e}(b)).prototype,"uiAtlas",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(F.prototype,"buttonTabs",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(F.prototype,"font",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=F))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopupTool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./Plant.ts","./EventTarget.ts"],(function(t){"use strict";var e,i,o,n,s,r,a,u,h;return{setters:[function(t){e=t.inheritsLoose,i=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,n=t._decorator,s=t.Component},function(t){r=t.GameEvent},function(t){a=t.PlantStatusType,u=t.PlantSize},function(t){h=t.default}],execute:function(){var c;o._RF.push({},"9ddefGqg0dAVpQkQmCMz4vd","PopupTool",void 0);var l=n.ccclass;t("PopupTool",l("PopupTool")(c=function(t){function o(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).ButtonWater=void 0,e.ButtonFertilize=void 0,e.ButtonHarvest=void 0,e.ButtonPesticides=void 0,e.tempArray=[],e}e(o,t);var n=o.prototype;return n.onLoad=function(){this.ButtonWater=this.node.getChildByName("ButtonWater"),this.ButtonFertilize=this.node.getChildByName("ButtonFertilize"),this.ButtonHarvest=this.node.getChildByName("ButtonHarvest"),this.ButtonPesticides=this.node.getChildByName("ButtonPesticides")},n.unActiveAllButton=function(){this.ButtonWater.active=!1,this.ButtonFertilize.active=!1,this.ButtonHarvest.active=!1,this.ButtonPesticides.active=!1},n.showTool=function(t){this.unActiveAllButton(),this.tempArray.length=0;for(var e,o=i(t.statuses);!(e=o()).done;){switch(e.value.type){case a.Dry:this.tempArray.push(this.ButtonWater);break;case a.Worm:this.tempArray.push(this.ButtonPesticides)}}t.size===u.Mature?this.tempArray.push(this.ButtonHarvest):this.tempArray.push(this.ButtonFertilize);for(var n=100*this.tempArray.length/2-50,s=0;s<this.tempArray.length;s++){var r=this.tempArray[s];r.active=!0,r.position.set(0-n+100*s,r.position.y,r.position.z)}},n.hide=function(){this.node.active=!1},n.water=function(){h.emit(r.Water),this.hide()},n.fertilize=function(){h.emit(r.Fertilize),this.hide()},n.harvest=function(){h.emit(r.Harvest),this.hide()},o}(s))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/Storage.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var r;e("StorageTab",void 0),t._RF.push({},"3409a+Jp6pPNbLY7JtRy2gF","Storage",void 0),function(e){e[e.None=-1]="None",e[e.Seed=0]="Seed",e[e.Seedling=1]="Seedling",e[e.Fertilizer=2]="Fertilizer"}(r||(r=e("StorageTab",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/StringUtils.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"c49faWyWCNIFoa4u0bAQSxE","StringUtils",void 0);t("formatTime",(function(t){var r=Math.floor(t/3600);if(r>0)return r+" hrs";var o=Math.floor((t-3600*r)/60);return o>0?o+" mins":Math.floor(t-3600*r-60*o)+" secs"})),t("toHourMinSec",(function(t){var r=Math.floor(t/3600),o=Math.floor((t-3600*r)/60),n=Math.floor(t-3600*r-60*o),e="";return r<10&&(e+="0"),e+=r,e+=":",o<10&&(e+="0"),e+=o,e+=":",n<10&&(e+="0"),e+=n}));r._RF.pop()}}}));

System.register("chunks:///_virtual/UserData.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"9c170f9OexGYa/3zc7gHAkz","UserData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/Zoo.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"6e12dmBY6NJiJpk20dmn8Uf","Zoo",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ZooComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,n,r,i,a,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.Prefab,l=e.Component}],execute:function(){var p,s,u,f,m;i._RF.push({},"7844eqBZCNIzIv1ZtYRaDYe","ZooComponent",void 0);var y=a.ccclass,v=a.property;e("ZooComponent",(p=y("ZooComponent"),s=v(c),p((m=t((f=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"animalPrefab",m,r(t)),t}o(t,e);var i=t.prototype;return i.start=function(){},i.update=function(e){},t}(l)).prototype,"animalPrefab",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=f))||u));i._RF.pop()}}}));

System.register("chunks:///_virtual/ZooProcessingSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./GameEvent.ts","./EventTarget.ts","./index.js"],(function(e){"use strict";var t,o,i,n,a,r,s,l;return{setters:[function(e){t=e.inheritsLoose,o=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy},null,function(e){r=e.GameEvent},function(e){s=e.default},function(e){l=e.default}],execute:function(){var c,u,g,f,p;a._RF.push({},"4c30b12ZZ5DD6EIfWRwic/M","ZooProcessingSystem",void 0);e("ZooProcessingSystem",(c=l.Inject("gameState"),u=l.Inject("localStorage"),g=function(e){function o(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"gameState",f,n(t)),i(t,"localStorage",p,n(t)),t}t(o,e);var a=o.prototype;return a.initialized=function(){s.on(r.BuyZoo,this.onBuyZoo,this)},a.onBuyZoo=function(){if(void 0!==this.gameState.selectedZoo){var e=this.localStorage.getGardenData();if(this.gameState.selectedZoo>=e.zoos.length)throw Error("selecting zoo index greater than total");e.zoos[this.gameState.selectedZoo].unlocked=!0,this.localStorage.updateGardenData()}},a.process=function(){},a.dispose=function(){s.off(r.BuyZoo,this.onBuyZoo,this)},o}(l.System),f=o(g.prototype,"gameState",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=o(g.prototype,"localStorage",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});